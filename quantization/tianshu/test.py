import torch

origin = [
    [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15.],
    [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15.],
    [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15.],
    [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15.],
    [ 4.,  5.,  6.,  7.,  0.,  1.,  2.,  3., 12., 13., 14., 15.,  8.,  9., 10., 11.],
    [ 4.,  5.,  6.,  7.,  0.,  1.,  2.,  3., 12., 13., 14., 15.,  8.,  9., 10., 11.],
    [ 4.,  5.,  6.,  7.,  0.,  1.,  2.,  3., 12., 13., 14., 15.,  8.,  9., 10., 11.],
    [ 4.,  5.,  6.,  7.,  0.,  1.,  2.,  3., 12., 13., 14., 15.,  8.,  9., 10., 11.],
    [ 8.,  9., 10., 11., 12., 13., 14., 15.,  0.,  1.,  2.,  3.,  4.,  5., 6.,  7.],
    [ 8.,  9., 10., 11., 12., 13., 14., 15.,  0.,  1.,  2.,  3.,  4.,  5., 6.,  7.],
    [ 8.,  9., 10., 11., 12., 13., 14., 15.,  0.,  1.,  2.,  3.,  4.,  5., 6.,  7.],
    [ 8.,  9., 10., 11., 12., 13., 14., 15.,  0.,  1.,  2.,  3.,  4.,  5., 6.,  7.],
    [12., 13., 14., 15.,  8.,  9., 10., 11.,  4.,  5.,  6.,  7.,  0.,  1., 2.,  3.],
    [12., 13., 14., 15.,  8.,  9., 10., 11.,  4.,  5.,  6.,  7.,  0.,  1., 2.,  3.],
    [12., 13., 14., 15.,  8.,  9., 10., 11.,  4.,  5.,  6.,  7.,  0.,  1., 2.,  3.],
    [12., 13., 14., 15.,  8.,  9., 10., 11.,  4.,  5.,  6.,  7.,  0.,  1., 2.,  3.]
]

idx = [
    [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15.],
    [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15.],
    [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15.],
    [ 0.,  1.,  2.,  3.,  4.,  5.,  6.,  7.,  8.,  9., 10., 11., 12., 13., 14., 15.],
    [ 4.,  5.,  6.,  7.,  0.,  1.,  2.,  3., 12., 13., 14., 15.,  8.,  9., 10., 11.],
    [ 4.,  5.,  6.,  7.,  0.,  1.,  2.,  3., 12., 13., 14., 15.,  8.,  9., 10., 11.],
    [ 4.,  5.,  6.,  7.,  0.,  1.,  2.,  3., 12., 13., 14., 15.,  8.,  9., 10., 11.],
    [ 4.,  5.,  6.,  7.,  0.,  1.,  2.,  3., 12., 13., 14., 15.,  8.,  9., 10., 11.],
    [ 8.,  9., 10., 11., 12., 13., 14., 15.,  0.,  1.,  2.,  3.,  4.,  5., 6.,  7.],
    [ 8.,  9., 10., 11., 12., 13., 14., 15.,  0.,  1.,  2.,  3.,  4.,  5., 6.,  7.],
    [ 8.,  9., 10., 11., 12., 13., 14., 15.,  0.,  1.,  2.,  3.,  4.,  5., 6.,  7.],
    [ 8.,  9., 10., 11., 12., 13., 14., 15.,  0.,  1.,  2.,  3.,  4.,  5., 6.,  7.],
    [12., 13., 14., 15.,  8.,  9., 10., 11.,  4.,  5.,  6.,  7.,  0.,  1., 2.,  3.],
    [12., 13., 14., 15.,  8.,  9., 10., 11.,  4.,  5.,  6.,  7.,  0.,  1., 2.,  3.],
    [12., 13., 14., 15.,  8.,  9., 10., 11.,  4.,  5.,  6.,  7.,  0.,  1., 2.,  3.],
    [12., 13., 14., 15.,  8.,  9., 10., 11.,  4.,  5.,  6.,  7.,  0.,  1., 2.,  3.]
]

# x1 = torch.tensor([[[0 + 4*i, 17+4*i, 34+4*i, 51+4*i] for i in range(4)],
#                    [[1 + 4*i, 16+4*i, 35+4*i, 50+4*i] for i in range(4)],
#                    [[2 + 4*i, 19+4*i, 32+4*i, 49+4*i] for i in range(4)],
#                    [[3 + 4*i, 18+4*i, 33+4*i, 48+4*i] for i in range(4)],
#                    ]).flatten()

# origin = torch.tensor(origin).transpose(0,1).reshape(-1,4)
# print(origin[x1].reshape(-1, 16))

origin = torch.tensor(origin)
idx = torch.tensor(idx).to(torch.long)
origin = torch.gather(origin, 1, idx)